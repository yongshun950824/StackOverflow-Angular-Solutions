<table mat-table [dataSource]="dataSource" class="mat-elevation-z8 lftm" *ngIf="dataSource && dataSource.length > 0">
  <ng-container matColumnDef="collaborator">
    <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display': 'none'}"> No. </th>
    <td mat-cell *matCellDef="let element"> {{element.collaborator}} </td>
  </ng-container>

  <ng-container matColumnDef="header-row-first-group">
    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="3"></th>
  </ng-container>

  <ng-container matColumnDef="cetCP">
    <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display': 'none'}"> CP </th>
    <td mat-cell *matCellDef="let element"> {{element.cetCP}} </td>
  </ng-container>

  <ng-container matColumnDef="header-row-second-group">
    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="3"> CP </th>
  </ng-container>

  <ng-container matColumnDef="cetRTT">
    <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display': 'none'}"> RTT </th>
    <td mat-cell *matCellDef="let element" [attr.rowspan]="3"> {{element.cetRTT}} </td>
  </ng-container>

  <ng-container matColumnDef="header-row-third-group">
    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="3"> RTT </th>
  </ng-container>

  <ng-container *ngFor="let month of displayMonthColumns">

    <!-- Month Year Header Column-->
    <ng-container matColumnDef="{{ 'header-' + month}}">
      <th mat-header-cell *matHeaderCellDef [attr.colspan]="9"> {{month}}</th>
    </ng-container>

    <!-- compteurFDP Second Header Column-->
    <ng-container matColumnDef="{{ 'second-header-' + month + '-compteurFDP' }}">
      <th mat-header-cell *matHeaderCellDef [attr.colspan]="3"> compteurFDP </th>
    </ng-container>

    <!-- compteurFDP Third Header Column-->
    <ng-container matColumnDef="{{month + '-compteurFDP-cp' }}">
      <th mat-header-cell *matHeaderCellDef> CP </th>
      <td mat-cell *matCellDef="let element"> {{element[month].compteurFDP.cp}} </td>
    </ng-container>

    <ng-container matColumnDef="{{month + '-compteurFDP-rtts'}}">
      <th mat-header-cell *matHeaderCellDef> RTTS </th>
      <td mat-cell *matCellDef="let element"> {{element[month].compteurFDP.rtts}} </td>
    </ng-container>

    <ng-container matColumnDef="{{month + '-compteurFDP-rtte'}}">
      <th mat-header-cell *matHeaderCellDef> RTTE </th>
      <td mat-cell *matCellDef="let element"> {{element[month].compteurFDP.rtte}} </td>
    </ng-container>

    <!-- compteurFinDuMois Second Header Column-->
    <ng-container matColumnDef="{{ 'second-header-' + month + '-compteurFinDuMois' }}">
      <th mat-header-cell *matHeaderCellDef [attr.colspan]="3"> compteurFinDuMois </th>
    </ng-container>

    <!-- compteurFinDuMois Third Header Column-->
    <ng-container matColumnDef="{{month + '-compteurFinDuMois-cp' }}">
      <th mat-header-cell *matHeaderCellDef> CP </th>
      <td mat-cell *matCellDef="let element"> {{element[month].compteurFinDuMois.cp}} </td>
    </ng-container>

    <ng-container matColumnDef="{{month + '-compteurFinDuMois-rtts'}}">
      <th mat-header-cell *matHeaderCellDef> RTTS </th>
      <td mat-cell *matCellDef="let element"> {{element[month].compteurFinDuMois.rtts}} </td>
    </ng-container>

    <ng-container matColumnDef="{{month + '-compteurFinDuMois-rtte'}}">
      <th mat-header-cell *matHeaderCellDef> RTTE </th>
      <td mat-cell *matCellDef="let element"> {{element[month].compteurFinDuMois.rtte}} </td>
    </ng-container>

    <!-- prisesDuMois Second Header Column-->
    <ng-container matColumnDef="{{ 'second-header-' + month + '-prisesDuMois' }}">
      <th mat-header-cell *matHeaderCellDef [attr.colspan]="3"> prisesDuMois </th>
    </ng-container>

    <!-- prisesDuMois Third Header Column-->
    <ng-container matColumnDef="{{month + '-prisesDuMois-cp' }}">
      <th mat-header-cell *matHeaderCellDef> CP </th>
      <td mat-cell *matCellDef="let element"> {{element[month].prisesDuMois.cp}} </td>
    </ng-container>

    <ng-container matColumnDef="{{month + '-prisesDuMois-rtts'}}">
      <th mat-header-cell *matHeaderCellDef> RTTS </th>
      <td mat-cell *matCellDef="let element"> {{element[month].prisesDuMois.rtts}} </td>
    </ng-container>

    <ng-container matColumnDef="{{month + '-prisesDuMois-rtte'}}">
      <th mat-header-cell *matHeaderCellDef> RTTE </th>
      <td mat-cell *matCellDef="let element"> {{element[month].prisesDuMois.rtte}} </td>
    </ng-container>

  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayFirstRowHeaders"></tr>
  <tr mat-header-row *matHeaderRowDef="displaySecondRowHeaders"></tr>
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

</table>