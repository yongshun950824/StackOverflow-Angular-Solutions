<div>
  <form [formGroup]="dynamicFormGroup" (ngSubmit)="onSubmit()">
    <label class="labelTitle"
      >Name <span class="validation-error">*</span></label
    >
    <input
      type="text"
      class="form-control height-reset"
      placeholder="Enter Name"
      name="name"
      formControlName="name"
    />

    <div
      *ngIf="dynamicFormGroup.get('name')?.invalid && (dynamicFormGroup.get('name')?.dirty || dynamicFormGroup.get('name')?.touched)"
    >
      <small class="validation-error">Please provide a title.</small>
    </div>

    <div
      class="form-row"
      formArrayName="address"
      *ngFor="let fields of AddressInfo.controls; let i = index"
    >
      <ng-container [formGroupName]="i">
        <div class="form-group col-md-3">
          <label for="password"><b>Street Address</b></label>
          <input
            type="text"
            class="form-control"
            placeholder="Street Address"
            name="SA"
            formControlName="streetAddress"
          />
        </div>
        <div
          *ngIf="addressFormGroup(i).get('streetAddress')?.invalid && (addressFormGroup(i).get('streetAddress')?.dirty || addressFormGroup(i).get('streetAddress')?.touched)"
        >
          <small class="validation-error"
            >Please provide a Street Address.</small
          >
        </div>

        <div class="form-group col-md-3">
          <label for="password"><b>City</b></label>
          <input
            type="text"
            class="form-control"
            placeholder="City"
            name="city"
            formControlName="city"
          />
        </div>
        <div class="form-group col-md-3">
          <label for="password"><b>State</b></label>
          <input
            type="text"
            class="form-control"
            placeholder="State"
            name="state"
            formControlName="state"
          />
        </div>
      </ng-container>
    </div>
    <br />
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
  <br />
  <button type="button" class="btn btn-primary" (click)="addNewAddress()">
    Add New Address
  </button>
</div>

<h4>OUTPUT</h4>
<div>{{output | json }}</div>
